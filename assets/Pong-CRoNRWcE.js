import{r as l,g as oe,a as ne,u as se,j as s,c as ae,b as V,d as Ke,e as Qe,B as Z}from"./index-C-bblznI.js";import{c as ue,r as fe,u as Je,b as Ae}from"./game-BcpCW_1z.js";import{i as Xe,a as ze,F as Ze,s as ee,c as ie,u as Fe,f as Pe,m as le,b as We,r as et,B as tt,d as we,e as rt,g as Le,A as ot,T as nt,I as O,h as st,j as pe,S as he,M as q,P as me,k as Te}from"./PlayArrow-BaJ7lWZg.js";function xe(e,r){return l.isValidElement(e)&&r.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}function at(e){return l.Children.toArray(e).filter(r=>l.isValidElement(r))}function it(e){return oe("MuiFormControl",e)}ne("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const lt=e=>{const{classes:r,margin:a,fullWidth:c}=e,m={root:["root",a!=="none"&&`margin${V(a)}`,c&&"fullWidth"]};return ie(m,it,r)},ct=ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[`margin${V(a.margin)}`],a.fullWidth&&r.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ge=l.forwardRef(function(r,a){const c=se({props:r,name:"MuiFormControl"}),{children:m,className:y,color:v="primary",component:h="div",disabled:R=!1,error:M=!1,focused:w,fullWidth:$=!1,hiddenLabel:j=!1,margin:x="none",required:k=!1,size:C="medium",variant:S="outlined",...T}=c,F={...c,color:v,component:h,disabled:R,error:M,fullWidth:$,hiddenLabel:j,margin:x,required:k,size:C,variant:S},D=lt(F),[W,z]=l.useState(()=>{let U=!1;return m&&l.Children.forEach(m,E=>{if(!xe(E,["Input","Select"]))return;const L=xe(E,["Select"])?E.props.input:E;L&&Xe(L.props)&&(U=!0)}),U}),[N,B]=l.useState(()=>{let U=!1;return m&&l.Children.forEach(m,E=>{xe(E,["Input","Select"])&&(ze(E.props,!0)||ze(E.props.inputProps,!0))&&(U=!0)}),U}),[p,A]=l.useState(!1);R&&p&&A(!1);const b=w!==void 0&&!R?w:p;let K;l.useRef(!1);const Q=l.useCallback(()=>{B(!0)},[]),J=l.useCallback(()=>{B(!1)},[]),te=l.useMemo(()=>({adornedStart:W,setAdornedStart:z,color:v,disabled:R,error:M,filled:N,focused:b,fullWidth:$,hiddenLabel:j,size:C,onBlur:()=>{A(!1)},onFocus:()=>{A(!0)},onEmpty:J,onFilled:Q,registerEffect:K,required:k,variant:S}),[W,v,R,M,N,b,$,j,K,J,Q,k,C,S]);return s.jsx(Ze.Provider,{value:te,children:s.jsx(ct,{as:h,ownerState:F,className:ae(D.root,y),ref:a,...T,children:m})})});function dt(e){return oe("MuiFormLabel",e)}const re=ne("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),ut=e=>{const{classes:r,color:a,focused:c,disabled:m,error:y,filled:v,required:h}=e,R={root:["root",`color${V(a)}`,m&&"disabled",y&&"error",v&&"filled",c&&"focused",h&&"required"],asterisk:["asterisk",y&&"error"]};return ie(R,dt,r)},ft=ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,a.color==="secondary"&&r.colorSecondary,a.filled&&r.filled]}})(le(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(We()).map(([r])=>({props:{color:r},style:{[`&.${re.focused}`]:{color:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${re.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${re.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),pt=ee("span",{name:"MuiFormLabel",slot:"Asterisk"})(le(({theme:e})=>({[`&.${re.error}`]:{color:(e.vars||e).palette.error.main}}))),ht=l.forwardRef(function(r,a){const c=se({props:r,name:"MuiFormLabel"}),{children:m,className:y,color:v,component:h="label",disabled:R,error:M,filled:w,focused:$,required:j,...x}=c,k=Fe(),C=Pe({props:c,muiFormControl:k,states:["color","required","focused","disabled","error","filled"]}),S={...c,color:C.color||"primary",component:h,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},T=ut(S);return s.jsxs(ft,{as:h,ownerState:S,className:ae(T.root,y),ref:a,...x,children:[m,C.required&&s.jsxs(pt,{ownerState:S,"aria-hidden":!0,className:T.asterisk,children:["â€‰","*"]})]})});function mt(e){return oe("MuiInputLabel",e)}ne("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const xt=e=>{const{classes:r,formControl:a,size:c,shrink:m,disableAnimation:y,variant:v,required:h}=e,R={root:["root",a&&"formControl",!y&&"animated",m&&"shrink",c&&c!=="medium"&&`size${V(c)}`,v],asterisk:[h&&"asterisk"]},M=ie(R,mt,r);return{...r,...M}},gt=ee(ht,{shouldForwardProp:e=>et(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[{[`& .${re.asterisk}`]:r.asterisk},r.root,a.formControl&&r.formControl,a.size==="small"&&r.sizeSmall,a.shrink&&r.shrink,!a.disableAnimation&&r.animated,a.focused&&r.focused,r[a.variant]]}})(le(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:r})=>r.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:r})=>r.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:r})=>!r.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:r,ownerState:a})=>r==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:r,ownerState:a,size:c})=>r==="filled"&&a.shrink&&c==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:r,ownerState:a})=>r==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),vt=l.forwardRef(function(r,a){const c=se({name:"MuiInputLabel",props:r}),{disableAnimation:m=!1,margin:y,shrink:v,variant:h,className:R,...M}=c,w=Fe();let $=v;typeof $>"u"&&w&&($=w.filled||w.focused||w.adornedStart);const j=Pe({props:c,muiFormControl:w,states:["size","variant","required","focused"]}),x={...c,disableAnimation:m,formControl:w,shrink:$,size:j.size,variant:j.variant,required:j.required,focused:j.focused},k=xt(x);return s.jsx(gt,{"data-shrink":$,ref:a,className:ae(k.root,R),...M,ownerState:x,classes:k})});function bt(e){return oe("MuiToggleButton",e)}const _=ne("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ne=l.createContext({}),Ee=l.createContext(void 0);function yt(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.includes(e):e===r}const wt=e=>{const{classes:r,fullWidth:a,selected:c,disabled:m,size:y,color:v}=e,h={root:["root",c&&"selected",m&&"disabled",a&&"fullWidth",`size${V(y)}`,v]};return ie(h,bt,r)},Ct=ee(tt,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[`size${V(a.size)}`]]}})(le(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${_.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${_.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(We()).map(([r])=>({props:{color:r},style:{[`&.${_.selected}`]:{color:(e.vars||e).palette[r].main,backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[r].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),H=l.forwardRef(function(r,a){const{value:c,...m}=l.useContext(Ne),y=l.useContext(Ee),v=Ke({...m,selected:yt(r.value,c)},r),h=se({props:v,name:"MuiToggleButton"}),{children:R,className:M,color:w="standard",disabled:$=!1,disableFocusRipple:j=!1,fullWidth:x=!1,onChange:k,onClick:C,selected:S,size:T="medium",value:F,...D}=h,W={...h,color:w,disabled:$,disableFocusRipple:j,fullWidth:x,size:T},z=wt(W),N=p=>{C&&(C(p,F),p.defaultPrevented)||k&&k(p,F)},B=y||"";return s.jsx(Ct,{className:ae(m.className,z.root,M,B),disabled:$,focusRipple:!j,ref:a,onClick:N,onChange:k,value:F,ownerState:W,"aria-pressed":S,...D,children:R})});function Rt(e){return oe("MuiToggleButtonGroup",e)}const g=ne("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),jt=e=>{const{classes:r,orientation:a,fullWidth:c,disabled:m}=e,y={root:["root",a,c&&"fullWidth"],grouped:["grouped",`grouped${V(a)}`,m&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ie(y,Rt,r)},St=ee("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[{[`& .${g.grouped}`]:r.grouped},{[`& .${g.grouped}`]:r[`grouped${V(a.orientation)}`]},{[`& .${g.firstButton}`]:r.firstButton},{[`& .${g.lastButton}`]:r.lastButton},{[`& .${g.middleButton}`]:r.middleButton},r.root,a.orientation==="vertical"&&r.vertical,a.fullWidth&&r.fullWidth]}})(le(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${g.grouped}`]:{[`&.${g.selected} + .${g.grouped}.${g.selected}`]:{borderTop:0,marginTop:0}},[`& .${g.firstButton},& .${g.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${g.lastButton},& .${g.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${g.lastButton}.${_.disabled},& .${g.middleButton}.${_.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${g.grouped}`]:{[`&.${g.selected} + .${g.grouped}.${g.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${g.firstButton},& .${g.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${g.lastButton},& .${g.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${g.lastButton}.${_.disabled},& .${g.middleButton}.${_.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ve=l.forwardRef(function(r,a){const c=se({props:r,name:"MuiToggleButtonGroup"}),{children:m,className:y,color:v="standard",disabled:h=!1,exclusive:R=!1,fullWidth:M=!1,onChange:w,orientation:$="horizontal",size:j="medium",value:x,...k}=c,C={...c,disabled:h,fullWidth:M,orientation:$,size:j},S=jt(C),T=l.useCallback((B,p)=>{if(!w)return;const A=x&&x.indexOf(p);let b;x&&A>=0?(b=x.slice(),b.splice(A,1)):b=x?x.concat(p):[p],w(B,b)},[w,x]),F=l.useCallback((B,p)=>{w&&w(B,x===p?null:p)},[w,x]),D=l.useMemo(()=>({className:S.grouped,onChange:R?F:T,value:x,size:j,fullWidth:M,color:v,disabled:h}),[S.grouped,R,F,T,x,j,M,v,h]),W=at(m),z=W.length,N=B=>{const p=B===0,A=B===z-1;return p&&A?"":p?S.firstButton:A?S.lastButton:S.middleButton};return s.jsx(St,{role:"group",className:ae(S.root,y),ref:a,ownerState:C,...k,children:s.jsx(Ne.Provider,{value:D,children:W.map((B,p)=>s.jsx(Ee.Provider,{value:N(p),children:B},p))})})}),Bt=we(s.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),be=we(s.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),ye=we(s.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),Y=900,G=500;function ce(e,r){return e?r?{width:Math.min(Y,window.innerWidth*.85),height:Math.min(G,window.innerHeight*.6)}:{width:Math.min(Y,window.innerWidth*.95),height:Math.min(G,window.innerWidth*.95*(G/Y))}:{width:Y,height:G}}function At(){const e=Qe(),r=rt(),a=Le(r.breakpoints.down("sm")),c=Le("(max-width:720px) and (orientation: landscape)"),m=l.useRef(null),y=l.useRef(null),v=l.useRef(null),[h,R]=l.useState(!1),[M,w]=l.useState("Normal"),$=l.useRef(0),j=l.useRef(0),x=l.useRef(0),k=l.useRef(0),C=l.useRef(null),S=l.useRef(!1),T=1;function F(){if(S.current)return;S.current=!0;function o(){L();const t=performance.now()/1e3,i=x.current?t-x.current:999,d=k.current?t-k.current:999;i<T||d<T?C.current=requestAnimationFrame(o):(S.current=!1,C.current&&cancelAnimationFrame(C.current),C.current=null)}C.current=requestAnimationFrame(o)}const D=l.useRef([]),W=l.useRef([]),[z,N]=l.useState("neon"),B=l.useRef({x:Y/2,y:G/2,vx:300,vy:120,r:8}),p=l.useRef({x:20,y:G/2-50,w:12,h:100,speed:420}),A=l.useRef({x:Y-20-12,y:G/2-50,w:12,h:100,speed:420});l.useEffect(()=>{const o=ce(a,c),t=o.width,i=o.height;B.current.x=t/2,B.current.y=i/2,p.current.y=i/2-50,A.current.y=i/2-50,A.current.x=t-20-12},[a,c]);const b=l.useRef({}),K=l.useRef(!1),Q=l.useRef(!1);l.useEffect(()=>{const o=i=>b.current[i.key]=!0,t=i=>b.current[i.key]=!1;return window.addEventListener("keydown",o),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",t)}},[]),l.useEffect(()=>{const o=m.current;if(!o)return;const t=f=>{const u=o.getBoundingClientRect(),P=window.devicePixelRatio||1;return(f-u.top)*(o.height/(u.height*P))},i=f=>{K.current=!0;const u=t(f.clientY);p.current.y=ue(u-p.current.h/2,0,G-p.current.h)},d=f=>{if(!K.current)return;const u=t(f.clientY);p.current.y=ue(u-p.current.h/2,0,G-p.current.h)},n=()=>K.current=!1;return o.addEventListener("pointerdown",i),window.addEventListener("pointermove",d),window.addEventListener("pointerup",n),o.style.touchAction="none",()=>{o.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",n),o.style.touchAction=""}},[]),l.useEffect(()=>{L()},[]);function J(){if(h)return;R(!0),Q.current=!0,v.current=null;function o(t){v.current||(v.current=t);const i=Math.min(.03,(t-v.current)/1e3);v.current=t,E(i),L(),Q.current&&(y.current=requestAnimationFrame(o))}y.current=requestAnimationFrame(o)}function te(){R(!1),Q.current=!1,y.current&&cancelAnimationFrame(y.current),y.current=null,v.current=null}function U(){const o=ce(a,c),t=o.width,i=o.height;$.current=0,j.current=0,p.current.y=i/2-p.current.h/2,A.current.y=i/2-A.current.h/2,fe(B.current,t,i,null),L()}function E(o){const t=ce(a,c),i=t.width,d=t.height,n=B.current,f=p.current,u=A.current;let P=0;if((b.current.w||b.current.W||b.current.ArrowUp)&&(P=-1),(b.current.s||b.current.S||b.current.ArrowDown)&&(P=1),f.y+=P*f.speed*o,f.y=ue(f.y,0,d-f.h),Je(u,n,M,o,d),n.x+=n.vx*o,n.y+=n.vy*o,n.y-n.r<=0?(n.y=n.r,n.vy=-n.vy):n.y+n.r>=d&&(n.y=d-n.r,n.vy=-n.vy),n.x-n.r<=f.x+f.w&&n.x-n.r>=f.x&&n.y>=f.y&&n.y<=f.y+f.h&&n.vx<0){n.x=f.x+f.w+n.r,n.vx=-n.vx;const I=(n.y-(f.y+f.h/2))/(f.h/2);n.vy+=I*200,Ae(n)}if(n.x+n.r>=u.x&&n.x+n.r<=u.x+u.w&&n.y>=u.y&&n.y<=u.y+u.h&&n.vx>0){n.x=u.x-n.r-1,n.vx=-n.vx;const I=(n.y-(u.y+u.h/2))/(u.h/2);n.vy+=I*200,Ae(n)}n.x<0?(j.current+=1,k.current=performance.now()/1e3,F(),Ce(n.x,n.y),fe(n,i,d,!1),L(),requestAnimationFrame(()=>L())):n.x>i&&($.current+=1,x.current=performance.now()/1e3,F(),Ce(n.x,n.y),fe(n,i,d,!0),L(),requestAnimationFrame(()=>L())),Ue(),Ge(o)}function L(){const o=m.current;if(!o)return;const t=o.getContext("2d"),i=window.devicePixelRatio||1,d=ce(a,c),n=d.width,f=d.height;(o.width!==n*i||o.height!==f*i)&&(o.width=n*i,o.height=f*i,o.style.width=`${n}px`,o.style.height=`${f}px`),t.setTransform(i,0,0,i,0,0);const u=Ie(z);t.fillStyle=u.bg,t.fillRect(0,0,n,f),t.strokeStyle=u.border,t.lineWidth=2,t.setLineDash([]),t.strokeRect(0,0,n,f),t.strokeStyle=u.net,t.lineWidth=4,t.setLineDash([20,15]),t.beginPath(),t.moveTo(n/2,0),t.lineTo(n/2,f),t.stroke(),t.setLineDash([]);const P=p.current,I=A.current;t.save(),t.shadowBlur=15,t.shadowColor=u.paddleGlowLeft,t.fillStyle=u.paddleLeft,t.fillRect(P.x,P.y,P.w,P.h),t.shadowColor=u.paddleGlowRight,t.fillStyle=u.paddleRight,t.fillRect(I.x,I.y,I.w,I.h),t.restore(),qe(t);const X=B.current;t.save(),t.shadowBlur=20,t.shadowColor=u.ballGlow,t.fillStyle=u.ball,t.fillRect(X.x-X.r,X.y-X.r,X.r*2,X.r*2),t.restore(),De(t),t.fillStyle=u.text,t.textAlign="center";const je=Math.max(24,Math.min(36,n*.04));t.font=`bold ${je}px 'Press Start 2P', monospace`,t.shadowBlur=8,t.shadowColor=u.text;const He=performance.now()/1e3,Se=(Ve,_e,Be)=>{const Me=Be?He-Be:1e3;let ke=1,$e=1;if(Me<.9){const de=Me/.9;ke=1+Math.sin(Math.min(1,de)*Math.PI)*(1-de)*.5,$e=.5+.5*Math.sin(de*Math.PI*6)}const Ye=Math.round(je*ke);t.font=`bold ${Ye}px 'Press Start 2P', monospace`,t.save(),t.globalAlpha=$e,t.translate(_e,60),t.scale(1,1),t.fillText(String(Ve),0,0),t.restore()};Se($.current,n*.25,x.current),Se(j.current,n*.75,k.current),t.save();const Oe=Math.max(16,Math.min(24,n*.027));t.font=`bold ${Oe}px 'Press Start 2P', monospace`,t.fillStyle=u.text,t.globalAlpha=.6,t.textAlign="center",t.fillText("PONG",n/2,30),t.restore()}function Ie(o){return o==="neon"?{bg:"#000000",net:"rgba(0,255,255,0.8)",paddleLeft:"#ffffff",paddleRight:"#ffffff",paddleGlowLeft:"rgba(0,255,255,0.6)",paddleGlowRight:"rgba(255,0,255,0.6)",ball:"#ffffff",ballGlow:"rgba(0,255,255,0.8)",text:"#00ff00",border:"#00ffff"}:o==="amber"?{bg:"#1a0800",net:"rgba(255,200,120,0.8)",paddleLeft:"#ffaa00",paddleRight:"#ffaa00",paddleGlowLeft:"rgba(255,170,0,0.6)",paddleGlowRight:"rgba(255,200,0,0.6)",ball:"#ffdd00",ballGlow:"rgba(255,221,0,0.8)",text:"#ffaa00",border:"#ffaa00"}:{bg:"#001a00",net:"rgba(0,255,0,0.8)",paddleLeft:"#00ff00",paddleRight:"#00ff00",paddleGlowLeft:"rgba(0,255,0,0.6)",paddleGlowRight:"rgba(50,255,50,0.6)",ball:"#00ff88",ballGlow:"rgba(0,255,136,0.8)",text:"#00ff00",border:"#00ff88"}}function Ce(o,t){const i=z==="neon"?["#00f7ff","#ff4db8","#fff25c"]:z==="amber"?["#ffd86b","#ffb86b","#fff1c6"]:["#9effa6","#4df2a6","#caffd4"],d=18;for(let n=0;n<d;n++){const f=Math.random()*Math.PI*2,u=60+Math.random()*220;D.current.push({x:o,y:t,vx:Math.cos(f)*u,vy:Math.sin(f)*u-30,life:.9+Math.random()*.6,size:1+Math.random()*3,color:i[Math.floor(Math.random()*i.length)]})}}function Ge(o){const t=D.current;for(let i=t.length-1;i>=0;i--){const d=t[i];d.vy+=180*o,d.x+=d.vx*o,d.y+=d.vy*o,d.life-=o,d.life<=0&&t.splice(i,1)}}function De(o){const t=D.current;for(let i=0;i<t.length;i++){const d=t[i],n=Math.max(0,Math.min(1,d.life));o.beginPath(),o.fillStyle=Re(d.color,n),o.arc(d.x,d.y,d.size,0,Math.PI*2),o.fill()}}function Re(o,t){if(!o.startsWith("#"))return o;const i=parseInt(o.slice(1,3),16),d=parseInt(o.slice(3,5),16),n=parseInt(o.slice(5,7),16);return`rgba(${i},${d},${n},${t})`}function Ue(){const o=B.current,t=W.current,i=performance.now()/1e3,d=Math.sqrt(o.vx*o.vx+o.vy*o.vy),n=t[t.length-1];for((!n||Math.abs(o.x-n.x)>5||Math.abs(o.y-n.y)>5)&&t.push({x:o.x,y:o.y,t:i,speed:d});t.length>0&&i-t[0].t>.4;)t.shift();t.length>15&&t.shift()}function qe(o){const t=W.current;if(t.length<2)return;const i=performance.now()/1e3;o.save(),o.globalCompositeOperation="screen";for(let d=t.length-1;d>=0;d--){const n=t[d],f=i-n.t,u=Math.min(1,f/.4),P=(1-u)*.6,I=Math.max(1,(1-u)*6);o.beginPath(),o.fillStyle=Re(z==="neon"?"#00ffff":z==="amber"?"#ffaa00":"#00ff88",P),o.arc(n.x,n.y,I,0,Math.PI*2),o.fill()}o.restore()}return s.jsxs(Z,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[s.jsx(ot,{position:"static",color:"transparent",elevation:0,children:s.jsxs(nt,{children:[s.jsx(O,{edge:"start",color:"inherit","aria-label":"back",sx:{mr:1},onClick:()=>e("/"),children:s.jsx(st,{})}),s.jsx(O,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:s.jsx(Bt,{})}),s.jsx(pe,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Pong"}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs(ge,{variant:"standard",sx:{minWidth:120,mr:2},children:[s.jsx(vt,{id:"difficulty-label",children:"Difficulty"}),s.jsxs(he,{labelId:"difficulty-label",value:M,onChange:o=>w(o.target.value),label:"Difficulty",children:[s.jsx(q,{value:"Easy",children:"Easy"}),s.jsx(q,{value:"Normal",children:"Normal"}),s.jsx(q,{value:"Hard",children:"Hard"})]})]}),s.jsxs(ve,{value:z,exclusive:!0,onChange:(o,t)=>t&&N(t),size:"small",sx:{mr:2},children:[s.jsx(H,{value:"neon",children:"Neon"}),s.jsx(H,{value:"amber",children:"Amber"}),s.jsx(H,{value:"green",children:"Green"})]})]}),s.jsx(O,{color:"inherit",onClick:()=>h?te():J(),"aria-label":"play-pause",children:h?s.jsx(be,{}):s.jsx(me,{})}),s.jsx(O,{color:"inherit",onClick:()=>{U(),h||L()},"aria-label":"restart",children:s.jsx(ye,{})})]})}),a&&!c&&s.jsx("div",{className:"mobile-rotate-overlay",role:"note",children:s.jsx("div",{className:"rotate-inner",children:"Rotate your device to landscape for best play"})}),a&&s.jsxs(Z,{sx:{position:"fixed",bottom:0,left:0,right:0,height:120,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",background:"rgba(0, 0, 0, 0.8)",borderTop:"2px solid #00ffff",zIndex:1e3},children:[s.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[s.jsx(Te,{variant:"contained",size:"large",onTouchStart:()=>b.current.ArrowUp=!0,onTouchEnd:()=>b.current.ArrowUp=!1,onMouseDown:()=>b.current.ArrowUp=!0,onMouseUp:()=>b.current.ArrowUp=!1,sx:{minWidth:60,minHeight:40,fontSize:"12px",background:"#003333",border:"1px solid #00ffff",color:"#00ffff"},children:"â†‘"}),s.jsx(Te,{variant:"contained",size:"large",onTouchStart:()=>b.current.ArrowDown=!0,onTouchEnd:()=>b.current.ArrowDown=!1,onMouseDown:()=>b.current.ArrowDown=!0,onMouseUp:()=>b.current.ArrowDown=!1,sx:{minWidth:60,minHeight:40,fontSize:"12px",background:"#003333",border:"1px solid #00ffff",color:"#00ffff"},children:"â†“"})]}),s.jsx(pe,{variant:"caption",sx:{color:"#00ffff",fontFamily:"'Press Start 2P', monospace",fontSize:"8px",textAlign:"center"},children:"Touch controls"})]}),s.jsxs(Z,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",p:1},children:[c&&s.jsxs("div",{className:"side-controls left",children:[s.jsx(ge,{variant:"standard",sx:{minWidth:88},size:"small",children:s.jsxs(he,{value:M,onChange:o=>w(o.target.value),size:"small",children:[s.jsx(q,{value:"Easy",children:"Easy"}),s.jsx(q,{value:"Normal",children:"Normal"}),s.jsx(q,{value:"Hard",children:"Hard"})]})}),s.jsxs(ve,{value:z,exclusive:!0,onChange:(o,t)=>t&&N(t),orientation:"vertical",size:"small",children:[s.jsx(H,{value:"neon",children:"N"}),s.jsx(H,{value:"amber",children:"A"}),s.jsx(H,{value:"green",children:"G"})]})]}),s.jsx("div",{className:`canvas-wrap ${c?"landscape-fit reduced-width":""}`,children:s.jsx("canvas",{ref:m,width:Y,height:G})}),c&&s.jsxs("div",{className:"side-controls right",children:[s.jsx(O,{color:"inherit",onClick:()=>h?te():J(),"aria-label":"play-pause",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:h?s.jsx(be,{}):s.jsx(me,{})}),s.jsx(O,{color:"inherit",onClick:()=>{U(),h||L()},"aria-label":"restart",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:s.jsx(ye,{})})]})]}),c?s.jsxs(Z,{className:"mobile-bottom-controls",sx:{position:"fixed",bottom:8,left:8,right:8,display:"flex",justifyContent:"space-around",zIndex:1400},children:[s.jsx(ge,{variant:"standard",sx:{minWidth:96},size:"small",children:s.jsxs(he,{value:M,onChange:o=>w(o.target.value),size:"small",children:[s.jsx(q,{value:"Easy",children:"Easy"}),s.jsx(q,{value:"Normal",children:"Normal"}),s.jsx(q,{value:"Hard",children:"Hard"})]})}),s.jsxs(ve,{value:z,exclusive:!0,onChange:(o,t)=>t&&N(t),size:"small",children:[s.jsx(H,{value:"neon",children:"Neon"}),s.jsx(H,{value:"amber",children:"Amber"}),s.jsx(H,{value:"green",children:"Green"})]}),s.jsx(O,{color:"inherit",onClick:()=>h?te():J(),"aria-label":"play-pause",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:h?s.jsx(be,{}):s.jsx(me,{})}),s.jsx(O,{color:"inherit",onClick:()=>{U(),h||L()},"aria-label":"restart",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:s.jsx(ye,{})})]}):s.jsx(Z,{component:"footer",sx:{p:1,textAlign:"center"},children:s.jsx(pe,{variant:"caption",children:"Controls: W / S or ArrowUp / ArrowDown â€” Restart to reset the match."})})]})}export{At as default};
