import{r as i,g as se,a as ae,u as ie,j as r,c as le,b as Y,d as Je,e as Xe,B as K}from"./index-Yy7JOOri.js";import{c as he,r as me,u as Ze,b as Le}from"./game-BcpCW_1z.js";import{i as et,a as Te,F as tt,s as re,c as ce,u as Fe,f as We,m as de,b as Ne,r as rt,B as ot,d as Re,e as nt,g as Pe,A as st,T as at,I as _,h as it,j as te,S as xe,M as O,P as ue,k as ge}from"./PlayArrow-CVzbmXAI.js";function ve(e,o){return i.isValidElement(e)&&o.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}function lt(e){return i.Children.toArray(e).filter(o=>i.isValidElement(o))}function ct(e){return se("MuiFormControl",e)}ae("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dt=e=>{const{classes:o,margin:a,fullWidth:c}=e,h={root:["root",a!=="none"&&`margin${Y(a)}`,c&&"fullWidth"]};return ce(h,ct,o)},ut=re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[`margin${Y(a.margin)}`],a.fullWidth&&o.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),be=i.forwardRef(function(o,a){const c=ie({props:o,name:"MuiFormControl"}),{children:h,className:v,color:x="primary",component:p="div",disabled:j=!1,error:z=!1,focused:C,fullWidth:B=!1,hiddenLabel:S=!1,margin:g="none",required:A=!1,size:y="medium",variant:R="outlined",...L}=c,T={...c,color:x,component:p,disabled:j,error:z,fullWidth:B,hiddenLabel:S,margin:g,required:A,size:y,variant:R},V=dt(T),[N,D]=i.useState(()=>{let P=!1;return h&&i.Children.forEach(h,F=>{if(!ve(F,["Input","Select"]))return;const Z=ve(F,["Select"])?F.props.input:F;Z&&et(Z.props)&&(P=!0)}),P}),[U,w]=i.useState(()=>{let P=!1;return h&&i.Children.forEach(h,F=>{ve(F,["Input","Select"])&&(Te(F.props,!0)||Te(F.props.inputProps,!0))&&(P=!0)}),P}),[b,$]=i.useState(!1);j&&b&&$(!1);const M=C!==void 0&&!j?C:b;let H;i.useRef(!1);const k=i.useCallback(()=>{w(!0)},[]),X=i.useCallback(()=>{w(!1)},[]),oe=i.useMemo(()=>({adornedStart:N,setAdornedStart:D,color:x,disabled:j,error:z,filled:U,focused:M,fullWidth:B,hiddenLabel:S,size:y,onBlur:()=>{$(!1)},onFocus:()=>{$(!0)},onEmpty:X,onFilled:k,registerEffect:H,required:A,variant:R}),[N,x,j,z,U,M,B,S,H,X,k,A,y,R]);return r.jsx(tt.Provider,{value:oe,children:r.jsx(ut,{as:p,ownerState:T,className:le(V.root,v),ref:a,...L,children:h})})});function ft(e){return se("MuiFormLabel",e)}const ne=ae("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pt=e=>{const{classes:o,color:a,focused:c,disabled:h,error:v,filled:x,required:p}=e,j={root:["root",`color${Y(a)}`,h&&"disabled",v&&"error",x&&"filled",c&&"focused",p&&"required"],asterisk:["asterisk",v&&"error"]};return ce(j,ft,o)},ht=re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.color==="secondary"&&o.colorSecondary,a.filled&&o.filled]}})(de(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Ne()).map(([o])=>({props:{color:o},style:{[`&.${ne.focused}`]:{color:(e.vars||e).palette[o].main}}})),{props:{},style:{[`&.${ne.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${ne.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),mt=re("span",{name:"MuiFormLabel",slot:"Asterisk"})(de(({theme:e})=>({[`&.${ne.error}`]:{color:(e.vars||e).palette.error.main}}))),xt=i.forwardRef(function(o,a){const c=ie({props:o,name:"MuiFormLabel"}),{children:h,className:v,color:x,component:p="label",disabled:j,error:z,filled:C,focused:B,required:S,...g}=c,A=Fe(),y=We({props:c,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),R={...c,color:y.color||"primary",component:p,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},L=pt(R);return r.jsxs(ht,{as:p,ownerState:R,className:le(L.root,v),ref:a,...g,children:[h,y.required&&r.jsxs(mt,{ownerState:R,"aria-hidden":!0,className:L.asterisk,children:["â€‰","*"]})]})});function gt(e){return se("MuiInputLabel",e)}ae("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const vt=e=>{const{classes:o,formControl:a,size:c,shrink:h,disableAnimation:v,variant:x,required:p}=e,j={root:["root",a&&"formControl",!v&&"animated",h&&"shrink",c&&c!=="medium"&&`size${Y(c)}`,x],asterisk:[p&&"asterisk"]},z=ce(j,gt,o);return{...o,...z}},bt=re(xt,{shouldForwardProp:e=>rt(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[{[`& .${ne.asterisk}`]:o.asterisk},o.root,a.formControl&&o.formControl,a.size==="small"&&o.sizeSmall,a.shrink&&o.shrink,!a.disableAnimation&&o.animated,a.focused&&o.focused,o[a.variant]]}})(de(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:o})=>o.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:o})=>o.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:o})=>!o.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:o,ownerState:a})=>o==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:o,ownerState:a,size:c})=>o==="filled"&&a.shrink&&c==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:o,ownerState:a})=>o==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),yt=i.forwardRef(function(o,a){const c=ie({name:"MuiInputLabel",props:o}),{disableAnimation:h=!1,margin:v,shrink:x,variant:p,className:j,...z}=c,C=Fe();let B=x;typeof B>"u"&&C&&(B=C.filled||C.focused||C.adornedStart);const S=We({props:c,muiFormControl:C,states:["size","variant","required","focused"]}),g={...c,disableAnimation:h,formControl:C,shrink:B,size:S.size,variant:S.variant,required:S.required,focused:S.focused},A=vt(g);return r.jsx(bt,{"data-shrink":B,ref:a,className:le(A.root,j),...z,ownerState:g,classes:A})});function wt(e){return se("MuiToggleButton",e)}const Q=ae("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ee=i.createContext({}),Ie=i.createContext(void 0);function Ct(e,o){return o===void 0||e===void 0?!1:Array.isArray(o)?o.includes(e):e===o}const Rt=e=>{const{classes:o,fullWidth:a,selected:c,disabled:h,size:v,color:x}=e,p={root:["root",c&&"selected",h&&"disabled",a&&"fullWidth",`size${Y(v)}`,x]};return ce(p,wt,o)},jt=re(ot,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[`size${Y(a.size)}`]]}})(de(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Q.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Q.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Ne()).map(([o])=>({props:{color:o},style:{[`&.${Q.selected}`]:{color:(e.vars||e).palette[o].main,backgroundColor:e.alpha((e.vars||e).palette[o].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[o].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[o].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),q=i.forwardRef(function(o,a){const{value:c,...h}=i.useContext(Ee),v=i.useContext(Ie),x=Je({...h,selected:Ct(o.value,c)},o),p=ie({props:x,name:"MuiToggleButton"}),{children:j,className:z,color:C="standard",disabled:B=!1,disableFocusRipple:S=!1,fullWidth:g=!1,onChange:A,onClick:y,selected:R,size:L="medium",value:T,...V}=p,N={...p,color:C,disabled:B,disableFocusRipple:S,fullWidth:g,size:L},D=Rt(N),U=b=>{y&&(y(b,T),b.defaultPrevented)||A&&A(b,T)},w=v||"";return r.jsx(jt,{className:le(h.className,D.root,z,w),disabled:B,focusRipple:!S,ref:a,onClick:U,onChange:A,value:T,ownerState:N,"aria-pressed":R,...V,children:j})});function St(e){return se("MuiToggleButtonGroup",e)}const m=ae("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Bt=e=>{const{classes:o,orientation:a,fullWidth:c,disabled:h}=e,v={root:["root",a,c&&"fullWidth"],grouped:["grouped",`grouped${Y(a)}`,h&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ce(v,St,o)},Mt=re("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[{[`& .${m.grouped}`]:o.grouped},{[`& .${m.grouped}`]:o[`grouped${Y(a.orientation)}`]},{[`& .${m.firstButton}`]:o.firstButton},{[`& .${m.lastButton}`]:o.lastButton},{[`& .${m.middleButton}`]:o.middleButton},o.root,a.orientation==="vertical"&&o.vertical,a.fullWidth&&o.fullWidth]}})(de(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${m.grouped}`]:{[`&.${m.selected} + .${m.grouped}.${m.selected}`]:{borderTop:0,marginTop:0}},[`& .${m.firstButton},& .${m.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${m.lastButton},& .${m.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${m.lastButton}.${Q.disabled},& .${m.middleButton}.${Q.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${m.grouped}`]:{[`&.${m.selected} + .${m.grouped}.${m.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${m.firstButton},& .${m.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${m.lastButton},& .${m.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${m.lastButton}.${Q.disabled},& .${m.middleButton}.${Q.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ye=i.forwardRef(function(o,a){const c=ie({props:o,name:"MuiToggleButtonGroup"}),{children:h,className:v,color:x="standard",disabled:p=!1,exclusive:j=!1,fullWidth:z=!1,onChange:C,orientation:B="horizontal",size:S="medium",value:g,...A}=c,y={...c,disabled:p,fullWidth:z,orientation:B,size:S},R=Bt(y),L=i.useCallback((w,b)=>{if(!C)return;const $=g&&g.indexOf(b);let M;g&&$>=0?(M=g.slice(),M.splice($,1)):M=g?g.concat(b):[b],C(w,M)},[C,g]),T=i.useCallback((w,b)=>{C&&C(w,g===b?null:b)},[C,g]),V=i.useMemo(()=>({className:R.grouped,onChange:j?T:L,value:g,size:S,fullWidth:z,color:x,disabled:p}),[R.grouped,j,T,L,g,S,z,x,p]),N=lt(h),D=N.length,U=w=>{const b=w===0,$=w===D-1;return b&&$?"":b?R.firstButton:$?R.lastButton:R.middleButton};return r.jsx(Mt,{role:"group",className:le(R.root,v),ref:a,ownerState:y,...A,children:r.jsx(Ee.Provider,{value:V,children:N.map((w,b)=>r.jsx(Ie.Provider,{value:U(b),children:w},b))})})}),kt=Re(r.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),we=Re(r.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),Ce=Re(r.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),J=900,G=500;function fe(e,o){return e?o?{width:Math.min(J,window.innerWidth*.85),height:Math.min(G,window.innerHeight*.6)}:{width:Math.min(J,window.innerWidth*.95),height:Math.min(G,window.innerWidth*.95*(G/J))}:{width:J,height:G}}function Lt(){const e=Xe(),o=nt(),a=Pe(o.breakpoints.down("sm")),c=Pe("(max-width:720px) and (orientation: landscape)"),h=i.useRef(null),v=i.useRef(null),x=i.useRef(null),[p,j]=i.useState(!1),[z,C]=i.useState(!1),[B,S]=i.useState("Normal"),g=i.useRef(0),A=i.useRef(0),y=i.useRef(0),R=i.useRef(0),L=i.useRef(null),T=i.useRef(!1),V=1;function N(){if(T.current)return;T.current=!0;function n(){E();const t=performance.now()/1e3,l=y.current?t-y.current:999,d=R.current?t-R.current:999;l<V||d<V?L.current=requestAnimationFrame(n):(T.current=!1,L.current&&cancelAnimationFrame(L.current),L.current=null)}L.current=requestAnimationFrame(n)}const D=i.useRef([]),U=i.useRef([]),[w,b]=i.useState("neon"),$=i.useRef({x:J/2,y:G/2,vx:300,vy:120,r:8}),M=i.useRef({x:20,y:G/2-50,w:12,h:100,speed:420}),H=i.useRef({x:J-20-12,y:G/2-50,w:12,h:100,speed:420});i.useEffect(()=>{const n=fe(a,c),t=n.width,l=n.height;$.current.x=t/2,$.current.y=l/2,M.current.y=l/2-50,H.current.y=l/2-50,H.current.x=t-20-12},[a,c]);const k=i.useRef({}),X=i.useRef(!1),oe=i.useRef(!1);i.useEffect(()=>{const n=l=>k.current[l.key]=!0,t=l=>k.current[l.key]=!1;return window.addEventListener("keydown",n),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",t)}},[]),i.useEffect(()=>{const n=h.current;if(!n)return;const t=f=>{const u=n.getBoundingClientRect(),W=window.devicePixelRatio||1;return(f-u.top)*(n.height/(u.height*W))},l=f=>{X.current=!0;const u=t(f.clientY);M.current.y=he(u-M.current.h/2,0,G-M.current.h)},d=f=>{if(!X.current)return;const u=t(f.clientY);M.current.y=he(u-M.current.h/2,0,G-M.current.h)},s=()=>X.current=!1;return n.addEventListener("pointerdown",l),window.addEventListener("pointermove",d),window.addEventListener("pointerup",s),n.style.touchAction="none",()=>{n.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",s),n.style.touchAction=""}},[]),i.useEffect(()=>{E()},[]);function P(){if(p)return;C(!0),j(!0),oe.current=!0,x.current=null;function n(t){x.current||(x.current=t);const l=Math.min(.03,(t-x.current)/1e3);x.current=t,Ge(l),E(),oe.current&&(v.current=requestAnimationFrame(n))}v.current=requestAnimationFrame(n)}function F(){j(!1),oe.current=!1,v.current&&cancelAnimationFrame(v.current),v.current=null,x.current=null}function Z(){const n=fe(a,c),t=n.width,l=n.height;g.current=0,A.current=0,M.current.y=l/2-M.current.h/2,H.current.y=l/2-H.current.h/2,me($.current,t,l,null),E()}function Ge(n){const t=fe(a,c),l=t.width,d=t.height,s=$.current,f=M.current,u=H.current;let W=0;if((k.current.w||k.current.W||k.current.ArrowUp)&&(W=-1),(k.current.s||k.current.S||k.current.ArrowDown)&&(W=1),f.y+=W*f.speed*n,f.y=he(f.y,0,d-f.h),Ze(u,s,B,n,d),s.x+=s.vx*n,s.y+=s.vy*n,s.y-s.r<=0?(s.y=s.r,s.vy=-s.vy):s.y+s.r>=d&&(s.y=d-s.r,s.vy=-s.vy),s.x-s.r<=f.x+f.w&&s.x-s.r>=f.x&&s.y>=f.y&&s.y<=f.y+f.h&&s.vx<0){s.x=f.x+f.w+s.r,s.vx=-s.vx;const I=(s.y-(f.y+f.h/2))/(f.h/2);s.vy+=I*200,Le(s)}if(s.x+s.r>=u.x&&s.x+s.r<=u.x+u.w&&s.y>=u.y&&s.y<=u.y+u.h&&s.vx>0){s.x=u.x-s.r-1,s.vx=-s.vx;const I=(s.y-(u.y+u.h/2))/(u.h/2);s.vy+=I*200,Le(s)}s.x<0?(A.current+=1,R.current=performance.now()/1e3,N(),je(s.x,s.y),me(s,l,d,!1),E(),requestAnimationFrame(()=>E())):s.x>l&&(g.current+=1,y.current=performance.now()/1e3,N(),je(s.x,s.y),me(s,l,d,!0),E(),requestAnimationFrame(()=>E())),Oe(),Ue(n)}function E(){const n=h.current;if(!n)return;const t=n.getContext("2d"),l=window.devicePixelRatio||1,d=fe(a,c),s=d.width,f=d.height;(n.width!==s*l||n.height!==f*l)&&(n.width=s*l,n.height=f*l,n.style.width=`${s}px`,n.style.height=`${f}px`),t.setTransform(l,0,0,l,0,0);const u=De(w);t.fillStyle=u.bg,t.fillRect(0,0,s,f),t.strokeStyle=u.border,t.lineWidth=2,t.setLineDash([]),t.strokeRect(0,0,s,f),t.strokeStyle=u.net,t.lineWidth=4,t.setLineDash([20,15]),t.beginPath(),t.moveTo(s/2,0),t.lineTo(s/2,f),t.stroke(),t.setLineDash([]);const W=M.current,I=H.current;t.save(),t.shadowBlur=15,t.shadowColor=u.paddleGlowLeft,t.fillStyle=u.paddleLeft,t.fillRect(W.x,W.y,W.w,W.h),t.shadowColor=u.paddleGlowRight,t.fillStyle=u.paddleRight,t.fillRect(I.x,I.y,I.w,I.h),t.restore(),qe(t);const ee=$.current;t.save(),t.shadowBlur=20,t.shadowColor=u.ballGlow,t.fillStyle=u.ball,t.fillRect(ee.x-ee.r,ee.y-ee.r,ee.r*2,ee.r*2),t.restore(),He(t),t.fillStyle=u.text,t.textAlign="center";const Be=Math.max(24,Math.min(36,s*.04));t.font=`bold ${Be}px 'Press Start 2P', monospace`,t.shadowBlur=8,t.shadowColor=u.text;const Ve=performance.now()/1e3,Me=(Ye,Ke,ke)=>{const ze=ke?Ve-ke:1e3;let Ae=1,$e=1;if(ze<.9){const pe=ze/.9;Ae=1+Math.sin(Math.min(1,pe)*Math.PI)*(1-pe)*.5,$e=.5+.5*Math.sin(pe*Math.PI*6)}const Qe=Math.round(Be*Ae);t.font=`bold ${Qe}px 'Press Start 2P', monospace`,t.save(),t.globalAlpha=$e,t.translate(Ke,60),t.scale(1,1),t.fillText(String(Ye),0,0),t.restore()};Me(g.current,s*.25,y.current),Me(A.current,s*.75,R.current),t.save();const _e=Math.max(16,Math.min(24,s*.027));t.font=`bold ${_e}px 'Press Start 2P', monospace`,t.fillStyle=u.text,t.globalAlpha=.6,t.textAlign="center",t.fillText("PONG",s/2,30),t.restore()}function De(n){return n==="neon"?{bg:"#000000",net:"rgba(0,255,255,0.8)",paddleLeft:"#ffffff",paddleRight:"#ffffff",paddleGlowLeft:"rgba(0,255,255,0.6)",paddleGlowRight:"rgba(255,0,255,0.6)",ball:"#ffffff",ballGlow:"rgba(0,255,255,0.8)",text:"#00ff00",border:"#00ffff"}:n==="amber"?{bg:"#1a0800",net:"rgba(255,200,120,0.8)",paddleLeft:"#ffaa00",paddleRight:"#ffaa00",paddleGlowLeft:"rgba(255,170,0,0.6)",paddleGlowRight:"rgba(255,200,0,0.6)",ball:"#ffdd00",ballGlow:"rgba(255,221,0,0.8)",text:"#ffaa00",border:"#ffaa00"}:{bg:"#001a00",net:"rgba(0,255,0,0.8)",paddleLeft:"#00ff00",paddleRight:"#00ff00",paddleGlowLeft:"rgba(0,255,0,0.6)",paddleGlowRight:"rgba(50,255,50,0.6)",ball:"#00ff88",ballGlow:"rgba(0,255,136,0.8)",text:"#00ff00",border:"#00ff88"}}function je(n,t){const l=w==="neon"?["#00f7ff","#ff4db8","#fff25c"]:w==="amber"?["#ffd86b","#ffb86b","#fff1c6"]:["#9effa6","#4df2a6","#caffd4"],d=18;for(let s=0;s<d;s++){const f=Math.random()*Math.PI*2,u=60+Math.random()*220;D.current.push({x:n,y:t,vx:Math.cos(f)*u,vy:Math.sin(f)*u-30,life:.9+Math.random()*.6,size:1+Math.random()*3,color:l[Math.floor(Math.random()*l.length)]})}}function Ue(n){const t=D.current;for(let l=t.length-1;l>=0;l--){const d=t[l];d.vy+=180*n,d.x+=d.vx*n,d.y+=d.vy*n,d.life-=n,d.life<=0&&t.splice(l,1)}}function He(n){const t=D.current;for(let l=0;l<t.length;l++){const d=t[l],s=Math.max(0,Math.min(1,d.life));n.beginPath(),n.fillStyle=Se(d.color,s),n.arc(d.x,d.y,d.size,0,Math.PI*2),n.fill()}}function Se(n,t){if(!n.startsWith("#"))return n;const l=parseInt(n.slice(1,3),16),d=parseInt(n.slice(3,5),16),s=parseInt(n.slice(5,7),16);return`rgba(${l},${d},${s},${t})`}function Oe(){const n=$.current,t=U.current,l=performance.now()/1e3,d=Math.sqrt(n.vx*n.vx+n.vy*n.vy),s=t[t.length-1];for((!s||Math.abs(n.x-s.x)>5||Math.abs(n.y-s.y)>5)&&t.push({x:n.x,y:n.y,t:l,speed:d});t.length>0&&l-t[0].t>.4;)t.shift();t.length>15&&t.shift()}function qe(n){const t=U.current;if(t.length<2)return;const l=performance.now()/1e3;n.save(),n.globalCompositeOperation="screen";for(let d=t.length-1;d>=0;d--){const s=t[d],f=l-s.t,u=Math.min(1,f/.4),W=(1-u)*.6,I=Math.max(1,(1-u)*6);n.beginPath(),n.fillStyle=Se(w==="neon"?"#00ffff":w==="amber"?"#ffaa00":"#00ff88",W),n.arc(s.x,s.y,I,0,Math.PI*2),n.fill()}n.restore()}return r.jsxs(K,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[r.jsx(st,{position:"static",color:"transparent",elevation:0,children:r.jsxs(at,{children:[r.jsx(_,{edge:"start",color:"inherit","aria-label":"back",sx:{mr:1},onClick:()=>e("/"),children:r.jsx(it,{})}),r.jsx(_,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:r.jsx(kt,{})}),r.jsx(te,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Pong"}),!c&&r.jsxs(r.Fragment,{children:[r.jsxs(be,{variant:"standard",sx:{minWidth:120,mr:2},children:[r.jsx(yt,{id:"difficulty-label",children:"Difficulty"}),r.jsxs(xe,{labelId:"difficulty-label",value:B,onChange:n=>S(n.target.value),label:"Difficulty",children:[r.jsx(O,{value:"Easy",children:"Easy"}),r.jsx(O,{value:"Normal",children:"Normal"}),r.jsx(O,{value:"Hard",children:"Hard"})]})]}),r.jsxs(ye,{value:w,exclusive:!0,onChange:(n,t)=>t&&b(t),size:"small",sx:{mr:2},children:[r.jsx(q,{value:"neon",children:"Neon"}),r.jsx(q,{value:"amber",children:"Amber"}),r.jsx(q,{value:"green",children:"Green"})]})]}),r.jsx(_,{color:"inherit",onClick:()=>p?F():P(),"aria-label":"play-pause",children:p?r.jsx(we,{}):r.jsx(ue,{})}),r.jsx(_,{color:"inherit",onClick:()=>{Z(),p||E()},"aria-label":"restart",children:r.jsx(Ce,{})})]})}),a&&!c&&r.jsx("div",{className:"mobile-rotate-overlay",role:"note",children:r.jsx("div",{className:"rotate-inner",children:"Rotate your device to landscape for best play"})}),a&&r.jsxs(K,{sx:{position:"fixed",bottom:0,left:0,right:0,height:120,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",background:"rgba(0, 0, 0, 0.8)",borderTop:"2px solid #00ffff",zIndex:1e3},children:[r.jsxs(K,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsx(ge,{variant:"contained",size:"large",onTouchStart:()=>k.current.ArrowUp=!0,onTouchEnd:()=>k.current.ArrowUp=!1,onMouseDown:()=>k.current.ArrowUp=!0,onMouseUp:()=>k.current.ArrowUp=!1,sx:{minWidth:60,minHeight:40,fontSize:"12px",background:"#003333",border:"1px solid #00ffff",color:"#00ffff"},children:"â†‘"}),r.jsx(ge,{variant:"contained",size:"large",onTouchStart:()=>k.current.ArrowDown=!0,onTouchEnd:()=>k.current.ArrowDown=!1,onMouseDown:()=>k.current.ArrowDown=!0,onMouseUp:()=>k.current.ArrowDown=!1,sx:{minWidth:60,minHeight:40,fontSize:"12px",background:"#003333",border:"1px solid #00ffff",color:"#00ffff"},children:"â†“"})]}),r.jsx(te,{variant:"caption",sx:{color:"#00ffff",fontFamily:"'Press Start 2P', monospace",fontSize:"8px",textAlign:"center"},children:"Touch controls"})]}),r.jsxs(K,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",p:1},children:[c&&r.jsxs("div",{className:"side-controls left",children:[r.jsx(be,{variant:"standard",sx:{minWidth:88},size:"small",children:r.jsxs(xe,{value:B,onChange:n=>S(n.target.value),size:"small",children:[r.jsx(O,{value:"Easy",children:"Easy"}),r.jsx(O,{value:"Normal",children:"Normal"}),r.jsx(O,{value:"Hard",children:"Hard"})]})}),r.jsxs(ye,{value:w,exclusive:!0,onChange:(n,t)=>t&&b(t),orientation:"vertical",size:"small",children:[r.jsx(q,{value:"neon",children:"N"}),r.jsx(q,{value:"amber",children:"A"}),r.jsx(q,{value:"green",children:"G"})]})]}),r.jsxs("div",{className:`canvas-wrap ${c?"landscape-fit reduced-width":""}`,style:{position:"relative"},children:[r.jsx("canvas",{ref:h,width:J,height:G,onClick:()=>!z&&P(),style:{cursor:z?"default":"pointer"}}),!z&&r.jsxs(K,{onClick:P,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.9)",zIndex:10,color:"#00ff00",textAlign:"center",cursor:"pointer"},children:[r.jsx(te,{variant:"h4",sx:{mb:3,fontSize:{xs:"1.5rem",sm:"2rem"},fontFamily:"'Press Start 2P', monospace",textShadow:"0 0 10px #00ff00"},children:"PONG"}),r.jsxs(te,{variant:"body1",sx:{mb:4,fontSize:{xs:"0.6rem",sm:"0.8rem"},fontFamily:"'Press Start 2P', monospace",color:"#ffffff",maxWidth:"80%",lineHeight:1.6},children:["Classic arcade tennis for two players!",r.jsx("br",{}),"Tap anywhere on the game area to start!"]}),r.jsx(ge,{variant:"contained",size:"large",startIcon:r.jsx(ue,{}),onClick:P,sx:{fontSize:{xs:"0.7rem",sm:"0.9rem"},padding:{xs:"8px 16px",sm:"12px 24px"},fontFamily:"'Press Start 2P', monospace",background:"linear-gradient(45deg, #00ff00, #00aa00)",boxShadow:"0 0 20px rgba(0, 255, 0, 0.5)"},children:"START GAME"}),r.jsx(te,{variant:"caption",sx:{mt:3,fontSize:{xs:"0.4rem",sm:"0.5rem"},color:"#888",fontFamily:"'Press Start 2P', monospace",textAlign:"center"},children:a?"Touch and drag to move your paddle":"Move mouse or use â†‘ â†“ arrow keys"})]})]}),c&&r.jsxs("div",{className:"side-controls right",children:[r.jsx(_,{color:"inherit",onClick:()=>p?F():P(),"aria-label":"play-pause",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:p?r.jsx(we,{}):r.jsx(ue,{})}),r.jsx(_,{color:"inherit",onClick:()=>{Z(),p||E()},"aria-label":"restart",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:r.jsx(Ce,{})})]})]}),c?r.jsxs(K,{className:"mobile-bottom-controls",sx:{position:"fixed",bottom:8,left:8,right:8,display:"flex",justifyContent:"space-around",zIndex:1400},children:[r.jsx(be,{variant:"standard",sx:{minWidth:96},size:"small",children:r.jsxs(xe,{value:B,onChange:n=>S(n.target.value),size:"small",children:[r.jsx(O,{value:"Easy",children:"Easy"}),r.jsx(O,{value:"Normal",children:"Normal"}),r.jsx(O,{value:"Hard",children:"Hard"})]})}),r.jsxs(ye,{value:w,exclusive:!0,onChange:(n,t)=>t&&b(t),size:"small",children:[r.jsx(q,{value:"neon",children:"Neon"}),r.jsx(q,{value:"amber",children:"Amber"}),r.jsx(q,{value:"green",children:"Green"})]}),r.jsx(_,{color:"inherit",onClick:()=>p?F():P(),"aria-label":"play-pause",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:p?r.jsx(we,{}):r.jsx(ue,{})}),r.jsx(_,{color:"inherit",onClick:()=>{Z(),p||E()},"aria-label":"restart",sx:{bgcolor:"rgba(255,255,255,0.04)"},children:r.jsx(Ce,{})})]}):r.jsx(K,{component:"footer",sx:{p:1,textAlign:"center"},children:r.jsx(te,{variant:"caption",children:"Controls: W / S or ArrowUp / ArrowDown â€” Restart to reset the match."})})]})}export{Lt as default};
